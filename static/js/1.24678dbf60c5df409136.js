webpackJsonp([1],{"3FnH":function(t,e){},H6oc:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Dd8w"),s=i.n(n),r=i("Sgn/"),a=i("T452"),o=(i("GQaK"),i("0aAL")),c=i("5Fyp"),l=i("3Q4o"),u=i("OmhB"),h={name:"ListView",data:function(){return{currentIndex:0,scrollY:-1,offSetTopTitle:-1}},components:{Scroll:c.a,Loading:u.a},props:{data:{type:Array,default:[]}},methods:{onShortcutTouchStart:function(t){var e=parseInt(Object(l.a)(t.target,"index"));this.touch.y1=t.touches[0].clientY,this.touch.startIndex=e,this.scrollToElement(e)},onShortcutTouchMove:function(t){this.touch.y2=t.touches[0].clientY;var e=Math.floor((this.touch.y2-this.touch.y1)/18);this.scrollToElement(this.touch.startIndex+e)},scrollToElement:function(t){(t||0==t)&&(t<0?t=0:t>this.grouplist.length-2&&(t=this.grouplist.length-2),this.scrollY=-this.grouplist[t],this.$refs.scroll.scrollToElement(this.$refs.itemGroup[t],0))},calcGroupHeight:function(){var t=this;this.grouplist=[];var e=0;this.grouplist.push(0),this.$refs.itemGroup.forEach(function(i,n){e+=i.clientHeight,t.grouplist.push(e)})},scroll:function(t){this.scrollY=t.y},selectSinger:function(t){this.$emit("selectSinger",t)}},watch:{data:function(){var t=this;setTimeout(function(){t.calcGroupHeight()},20)},scrollY:function(t){if(!(t>0)){for(var e=this.grouplist,i=0;i<e.length;i++)if(-t>=e[i]&&-t<e[i+1])return this.offSetTopTitle=t+e[i+1],void(this.currentIndex=i);this.currentIndex=e.length-2}},offSetTopTitle:function(t){if(t>0&&t<30){var e=t-30;this.$refs.fixedTitle.style.transform="translate3d(0, "+e+"px, 0)"}else this.$refs.fixedTitle.style.transform="translate3d(0, 0px, 0)"}},computed:{alpahbet:function(){return this.data.map(function(t){return t.title.substr(0,1)})},fixedTitle:function(){return this.scrollY>0?"":this.data[this.currentIndex]?this.data[this.currentIndex]?this.data[this.currentIndex].title:"":void 0}},created:function(){this.touch={},this.listenScroll=!0,this.probeType=3,this.grouplist=[]},mounted:function(){}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroll",{ref:"scroll",staticClass:"recommend-content",attrs:{data:t.data,listenScroll:t.listenScroll,probeType:t.probeType},on:{scroll:t.scroll}},[i("div",[i("ul",t._l(t.data,function(e,n){return i("li",{ref:"itemGroup",refInFor:!0,staticClass:"list-group",attrs:{itemGroup:e}},[i("h2",{staticClass:"list-group-title"},[t._v(t._s(e.title))]),t._v(" "),i("ul",t._l(e.items,function(e,n){return i("li",{staticClass:"list-group-item",on:{click:function(i){t.selectSinger(e)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.avatar,expression:"item.avatar"}],staticClass:"avatar"}),t._v(" "),i("span",{staticClass:"name"},[t._v(t._s(e.name))])])}))])}))]),t._v(" "),i("ul",{staticClass:"list-shortcut",on:{touchstart:t.onShortcutTouchStart,touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.onShortcutTouchMove(e)}}},t._l(t.alpahbet,function(e,n){return i("li",{key:n,staticClass:"item",class:{currentAlphabet:n===t.currentIndex},attrs:{"data-index":n}},[t._v(t._s(e)+"\n   ")])})),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.fixedTitle,expression:"fixedTitle"}],ref:"fixedTitle",staticClass:"fixedTitle"},[t._v("\n    "+t._s(t.fixedTitle)+"\n  ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.data.length,expression:"!data.length"}],staticClass:"loadingIcon"},[i("loading")],1)])},staticRenderFns:[]};var d=i("VU/8")(h,f,!1,function(t){i("3FnH")},"data-v-4473ee6a",null).exports,p=i("NYxO"),g={mixins:[i("F4+m").a],name:"Singer",components:{ListView:d},data:function(){return{singerList:[]}},methods:s()({_getSingerList:function(){var t=this;Object(r.b)().then(function(e){e.code===a.a&&(t.singerList=t.processSingerList(e.data.list))})},processSingerList:function(t){var e={},i={title:"热门",items:[]};t.forEach(function(t,n){if(n<10){var s=new o.a(t.Fsinger_mid,t.Fsinger_name);i.items.push(s)}e[t.Findex]?e[t.Findex].items.push(new o.a(t.Fsinger_mid,t.Fsinger_name)):(e[t.Findex]={title:t.Findex,items:[]},e[t.Findex].items.push(new o.a(t.Fsinger_mid,t.Fsinger_name)))}),e.hot=i;var n=[],s=[];for(var r in e){var a=e[r];a.title.match(/[a-zA-Z]/)?n.push(a):"热门"===a.title&&s.push(a)}return n.sort(function(t,e){return t.title.charCodeAt(0)-e.title.charCodeAt(0)}),s.concat(n)},selectSinger:function(t){this.$router.push({path:"/Singer/"+t.id}),this.setSinger(t)},handlerMiniPlayer:function(t){var e=t.length>0?"60px":"0px";this.$refs.singerWrapper.style.bottom=e}},Object(p.d)({setSinger:"SET_SINGER"})),created:function(){this._getSingerList()},mounted:function(){}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"singerWrapper",staticClass:"singerWrapper"},[e("list-view",{ref:"list",attrs:{data:this.singerList},on:{selectSinger:this.selectSinger}}),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var v=i("VU/8")(g,m,!1,function(t){i("gVfT")},"data-v-f6233690",null);e.default=v.exports},"Sgn/":function(t,e,i){"use strict";e.b=function(){var t=s()({},r.b,{channel:"singer",page:"list",key:"all_all_all",pagesize:50,pagenum:1,hostUin:"0",needNewCode:"0",platform:"yqq",g_tk:2001751543});return Object(a.a)("https://c.y.qq.com/v8/fcg-bin/v8.fcg",t,r.c)},e.a=function(t){var e=s()({},r.b,{g_tk:5381,loginUin:0,hostUin:0,platform:"yqq",needNewCode:0,singermid:t,order:"listen",begin:0,num:100,songstatus:1});return Object(a.a)("https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg",e,r.c)};var n=i("woOf"),s=i.n(n),r=i("T452"),a=i("Gak4"),o=i("mtWM");i.n(o)},gVfT:function(t,e){}});
//# sourceMappingURL=1.24678dbf60c5df409136.js.map